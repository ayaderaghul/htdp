#lang racket
(require 2htdp/image 2htdp/universe test-engine/racket-tests)

(define-struct aim [ufo tank])
(define-struct fired [ufo tank missile])
(define-struct posn [x y])

; ufo is a posn
; interpretation (make-posn x y) is the ufo location
; left to right, top down convention

(define-struct tank [loc vel])
; tank is a struct
; make-tank number number
; interpretation : make-tank x dx specifice position
; (x, height) and tank speed: dx pixels/tick


; missile is a posn
; interpretation: make-posn x y is the missile place

; a sigs is one of
; - (make-aim ufo tank]
; - (make-fired ufo tank missile]
; interpretation represents the complete state of a space
; invader game

(define W 200)
(define H 200)
(define TANK-H 10)
(define TANK (rectangle 20 TANK-H "solid" "blue"))

(define UFO (ovelay
             (circle 10 "solid" "green")
             (rectangle 20 10 "solid" "green")))

(define MISSILE (triangle 10 "solid" "red"))

(define s1 (make-aim (make-posn 20 10) (make-tank 28 -3)))
(define s2 (make-fired (make-posn 20 10) (make-tank 28 -3)
                       (make-posn 28 (- H TANK-H))))
(define s3 (make-fired (make-posn 20 100) (make-tank 100 3)
                       (make-posn 22 103)))